<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="/css/writing.css">
  <title>update</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Jost:wght@100&display=swap" rel="stylesheet">
</head>
<body>
<div id='desktop-2' class='desktop-2'>
  <form action="/board/update" method="post" name="updateForm" enctype="multipart/form-data">
    <input type="hidden" name="id" th:value="${boardUpdate.id}">
    <input type="text" name="boardWriter" id="boardWriter" class="hidden">
    <input type="hidden" name="boardHits" th:value="${boardUpdate.boardHits}" class="hidden">
    <div class="writeFrame">
      <input placeholder="제목을 입력해주세요" class="boardTitle" type="text" name="boardTitle" id="boardTitle" th:value="${boardUpdate.boardTitle}">
      <textarea class="boardContent" name="boardContents" id="boardContent" th:text="${boardUpdate.boardContents}"></textarea>
      <input value="첨부파일" placeholder="첨부파일" type="file" name="boardFile" class="hidden">
      <input type="submit" value="글작성" class="submit" id="submit" onclick="boardUpdate()">
    </div>
  </form>
</div>
<script th:inline="javascript">
  var memberName = /*[[${member.memberName}]]*/ '';
  document.getElementById("boardWriter").value = memberName;

  const input = document.getElementById('boardTitle');
  const textarea = document.getElementById('boardContent');

  textarea.addEventListener('input', function() {
    textarea.style.height = 'auto'; // Reset the height to auto
    textarea.style.height = textarea.scrollHeight + 'px'; // Set the height based on content
  });

  window.onload = () => {
      textarea.style.height = 'auto'; // Reset the height to auto
      textarea.style.height = textarea.scrollHeight + 'px'; // Set the height based on content
  };

  const boardUpdate = () => {
    document.updateForm.submit();
  }
</script>
</body>
</html>
